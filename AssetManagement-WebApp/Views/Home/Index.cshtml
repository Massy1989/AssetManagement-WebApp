@model IEnumerable<AssetManagementWebApp.Models.Asset>
@{
    ViewData["Title"] = "All Assets";
}
@section Scripts {
    <script src="~/lib/angular/angular.min.js"></script>
    <script src="~/js/dirPagination.js"></script>
    @*<script src="~/js/app-assets.js"></script>*@
    <script src="~/js/app-pagination.js"></script>
    @*<script src="~/js/assetsController.js"></script>*@
    <script src="~/js/paginationController.js"></script>
}
@section Styles {
    <link rel="stylesheet" href="~/lib/font-awesome/css/font-awesome.min.css" />
}
<div class="row" ng-app="app-pagination" ng-cloak>
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div ng-controller="dataController" class="my-controller">
                    <h1>Asset Search</h1>
                    @*<small>this is in "MyController"</small>*@

                    <div class="row">
                        @*<div class="col-xs-4">
                            <h3>Page: {{ currentPage }}</h3>
                        </div>*@
                        <div class="col-xs-4">
                            <label for="search">Search:</label>
                            <input ng-model="assetFilter" id="search" class="form-control" placeholder="Filter text">
                        </div>
                        <div class="col-xs-4">
                            <label for="search">items per page:</label>
                            <input type="number" min="1" max="100" class="form-control" ng-model="pageSize">
                        </div>
                    </div>
                    <br>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <!--<li dir-paginate="meal in meals | filter:assetFilter | itemsPerPage: pageSize" current-page="currentPage">{{ meal }}</li>-->
                            <div ng-show="isBusy" class="text-center"><i class="fa fa-arrow-circle-o-notch fa-spin fa-3x"></i><p>Loading...</p></div>
                            <!--<ul>
                                <li dir-paginate="asset in assets | filter:q | itemsPerPage: pageSize" current-page="currentPage">{{ asset.name }}</li>
                            </ul>-->
                            <table class="table table-responsive table-striped">
                                <!--<tr ng-repeat="asset in vm.assets">-->
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Asset Type</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr dir-paginate="asset in assets | filter:assetFilter | itemsPerPage: pageSize" current-page="currentPage">
                                        <td>{{ asset.name }}</td>
                                        <td>{{ asset.description }}</td>
                                        <td>{{ asset.assetType.description }}</td>
                                        @*<td>{{ asset.created | date:'MM-dd-yyyy'}}</td>*@
                                        <td><a href="#" class="btn btn-sm btn-primary">Edit</a></td>
                                    </tr>
                                </tbody>
                            </table>

                            <!--<form novalidate name="newAssetForm" ng-submit="addAsset()">
                                <div class="text-danger" ng-show="errorMessage">Error: {{ errorMessage }}</div>
                                <div class="form-group">
                                    <label for="name">Asset Name</label>
                                    <input class="form-control" type="text" id="name" name="name" ng-model="newAsset.name" required ng-minlength="5" />
                                    <span ng-show="newAssetForm.name.$error.required" class="text-warning">Name is required.</span>
                                    <span ng-show="newAssetForm.name.$error.minlength" class="text-warning">Name must be at least five characters.</span>
                                </div>
                                <div class="form-group">
                                    <input type="submit" value="Add"
                                            class="btn btn-success btn-sm"
                                            ng-disabled="newAssetForm.$invalid" />
                                </div>
                            </form>-->
                        </div>
                    </div>
                </div>
                <div ng-controller="paginationController" class="pagination-controller">
                    @*<small>this is in "paginationController"</small>*@
                    <div class="text-center">
                        <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="./tpl/dirPagination.tpl.html"></dir-pagination-controls>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Statistics</h4>
                    </div>
                    <div class="panel-body">
                        <p>This is the body.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>